package com.crotsertech.testtakerstoolkit

import android.content.Context
import android.content.SharedPreferences

class PreferencesManager(context: Context) {
    private val prefs: SharedPreferences =
        context.getSharedPreferences("MyTestingProPrefs", Context.MODE_PRIVATE)

    fun saveCompanyInfo(companyInfo: CompanyInfo) {
        prefs.edit().apply {
            putString("company_name", companyInfo.name)
            putString("company_street_address", companyInfo.streetAddress)
            putString("company_city", companyInfo.city)
            putString("company_zip", companyInfo.zip)
            putString("company_phone", companyInfo.phone)
            putString("company_email", companyInfo.email)
            putString("company_website", companyInfo.website)
            apply()
        }
    }

    fun getCompanyInfo(): CompanyInfo {
        return CompanyInfo(
            name = prefs.getString("company_name", "") ?: "",
            streetAddress = prefs.getString("company_street_address", "") ?: "",
            city = prefs.getString("company_city", "") ?: "",
            zip = prefs.getString("company_zip", "") ?: "",
            phone = prefs.getString("company_phone", "") ?: "",
            email = prefs.getString("company_email", "") ?: "",
            website = prefs.getString("company_website", "") ?: ""
        )
    }

    fun getEpaSystemNumber(zipCode: String): String {
        // Returns the EPA system number for a given zip code in Central Illinois
        return when (zipCode.take(5)) {
            // Springfield area (Sangamon County)
            "62701", "62702", "62703", "62704", "62705", "62706", "62707",
            "62708", "62711", "62712", "62715", "62716", "62719", "62721",
            "62722", "62723", "62726", "62736", "62739", "62756", "62757",
            "62761", "62762", "62763", "62764", "62765", "62766", "62767",
            "62769", "62776", "62777", "62781", "62786", "62791", "62794",
            "62796" -> "IL1370100" // City Water Light & Power (Springfield)

            // Bloomington-Normal area (McLean County)
            "61701", "61702", "61704", "61705", "61709", "61710",
            "61720", "61721", "61722", "61724", "61725", "61726",
            "61728", "61729", "61730", "61731", "61732", "61733",
            "61734", "61735", "61736", "61737", "61738", "61739",
            "61741", "61742", "61743", "61744", "61745", "61747",
            "61748", "61749", "61752", "61753", "61754", "61755",
            "61756", "61759", "61760", "61761", "61764", "61769",
            "61770", "61771", "61772", "61773", "61774", "61775",
            "61776", "61777", "61778", "61790", "61791" -> "IL1130200" // City of Bloomington

            // Decatur area (Macon County)
            "62501", "62520", "62521", "62522", "62523", "62524", "62525",
            "62526", "62530", "62531", "62532", "62533", "62534", "62535",
            "62536", "62537", "62538", "62539", "62540", "62541", "62543",
            "62544", "62545", "62546", "62547", "62548", "62549", "62550",
            "62551", "62553", "62554", "62555", "62556", "62557", "62558",
            "62560", "62561", "62563", "62565", "62567", "62568", "62570",
            "62571", "62572", "62573", "62888" -> "IL1150150" // City of Decatur

            // Peoria area (Peoria County)
            "61601", "61602", "61603", "61604", "61605", "61606", "61607",
            "61610", "61611", "61612", "61613", "61614", "61615", "61616",
            "61625", "61629", "61630", "61633", "61634", "61635", "61636",
            "61637", "61638", "61639", "61640", "61641", "61643", "61644",
            "61650", "61651", "61652", "61653", "61654", "61655", "61656" -> "IL1430100" // Illinois American Water - Peoria

            // Champaign-Urbana area (Champaign County)
            "61801", "61802", "61803", "61820", "61821", "61822", "61824",
            "61825", "61826", "61830", "61831", "61832", "61840", "61841",
            "61842", "61843", "61844", "61845", "61846", "61847", "61848",
            "61849", "61850", "61851", "61852", "61853", "61854", "61855",
            "61856", "61857", "61858", "61859", "61862", "61863", "61864",
            "61865", "61866", "61870", "61871", "61872", "61873", "61874",
            "61875", "61876", "61877", "61878", "61880", "61882", "61883",
            "61884", "61910", "61911", "61912", "61913", "61914", "61917",
            "61919", "61920", "61921", "61924", "61925", "61928", "61929",
            "61930", "61931", "61932", "61933", "61936", "61937", "61938",
            "61940", "61941", "61942", "61943", "61944", "61949", "61951",
            "61953", "61955", "61956", "61957" -> "IL0190050" // Illinois American Water - Champaign

            // Lincoln area (Logan County)
            "62642", "62643", "62644", "62650", "62656", "62659", "62660",
            "62661", "62662", "62663", "62664", "62665", "62666", "62667",
            "62668", "62670", "62671", "62672", "62673", "62674", "62675",
            "62677", "62681", "62682", "62683", "62684", "62685", "62688",
            "62689", "62690", "62691", "62692", "62693", "62694", "62695",
            "62696", "62697", "62698" -> "IL1070200" // City of Lincoln

            // Danville area (Vermilion County)
            "61810", "61811", "61812", "61813", "61814", "61815", "61816",
            "61817", "61818", "61831", "61832", "61833", "61834", "61839",
            "61840", "61841", "61842", "61843", "61844", "61845", "61846",
            "61847", "61848", "61849", "61850", "61851", "61852", "61853",
            "61854", "61857", "61858", "61859", "61862", "61863", "61864",
            "61865", "61866", "61870", "61871", "61872", "61873", "61874",
            "61875", "61876", "61877", "61878", "61880", "61882", "61883",
            "61884" -> "IL1700200" // City of Danville

            // Quincy area (Adams County)
            "62301", "62305", "62306", "62311", "62312", "62313", "62314",
            "62316", "62319", "62320", "62321", "62323", "62324", "62325",
            "62326", "62330", "62338", "62339", "62340", "62341", "62343",
            "62345", "62346", "62347", "62348", "62349", "62351", "62352",
            "62353", "62354", "62355", "62356", "62357", "62358", "62359",
            "62360", "62361", "62362", "62363", "62365", "62366", "62367",
            "62370", "62373", "62374", "62375", "62376", "62378", "62379",
            "62380" -> "IL0010550" // City of Quincy

            // Galesburg area (Knox County)
            "61401", "61402", "61410", "61411", "61412", "61413", "61414",
            "61415", "61416", "61417", "61418", "61419", "61420", "61421",
            "61422", "61423", "61424", "61425", "61426", "61427", "61428",
            "61430", "61431", "61432", "61433", "61434", "61435", "61436",
            "61437", "61438", "61439", "61440", "61441", "61442", "61443",
            "61447", "61448", "61449", "61450", "61451", "61452", "61453",
            "61454", "61455", "61458", "61459", "61460", "61462", "61465",
            "61466", "61467", "61468", "61469", "61470", "61471", "61472",
            "61473", "61474", "61475", "61476", "61477", "61478", "61479",
            "61480", "61482", "61483", "61484", "61485", "61486", "61488",
            "61489", "61490", "61491" -> "IL0950150" // City of Galesburg

            // Jacksonville area (Morgan County)
            "62618", "62626", "62627", "62628", "62629", "62630", "62638",
            "62640", "62644", "62649", "62650", "62651", "62655", "62656",
            "62659", "62660", "62661", "62663", "62664", "62666", "62667",
            "62668", "62670", "62671", "62672", "62673", "62674", "62675",
            "62677", "62681", "62682", "62685", "62688", "62689", "62690",
            "62691", "62692", "62693", "62694", "62695", "62697" -> "IL1330150" // Jacksonville Municipal Water

            // Taylorville area (Christian County)
            "62501", "62510", "62512", "62513", "62514", "62515", "62517",
            "62518", "62519", "62520", "62521", "62522", "62523", "62526",
            "62530", "62531", "62532", "62533", "62534", "62535", "62536",
            "62537", "62538", "62539", "62540", "62543", "62544", "62545",
            "62546", "62547", "62548", "62549", "62550", "62551", "62553",
            "62554", "62555", "62556", "62557", "62558", "62560", "62565",
            "62567", "62568", "62570", "62571", "62572", "62573", "62626",
            "62633", "62634", "62638", "62639", "62640", "62644", "62649",
            "62650", "62656", "62659", "62660", "62661", "62663", "62664",
            "62666", "62667", "62668", "62670", "62671", "62672", "62673",
            "62674", "62675", "62677", "62681", "62682", "62685", "62688",
            "62689", "62690", "62691", "62692", "62693", "62694", "62695",
            "62697", "62698" -> "IL0270100" // City of Taylorville

            // Effingham area (Effingham County)
            "62401", "62410", "62411", "62413", "62414", "62417", "62418",
            "62419", "62420", "62421", "62422", "62423", "62424", "62425",
            "62426", "62427", "62428", "62431", "62432", "62433", "62434",
            "62436", "62438", "62439", "62440", "62441", "62442", "62443",
            "62444", "62445", "62446", "62447", "62448", "62449", "62450",
            "62451", "62460", "62461", "62462", "62463", "62464", "62465",
            "62466", "62467", "62468", "62469", "62471", "62473", "62474",
            "62475", "62476", "62477", "62478", "62479", "62480", "62481" -> "IL0490100" // City of Effingham

            // Mattoon area (Coles County)
            "61910", "61911", "61912", "61913", "61914", "61917", "61919",
            "61920", "61924", "61925", "61928", "61929", "61930", "61931",
            "61932", "61933", "61936", "61937", "61938", "61940", "61941",
            "61942", "61943", "61944", "61949", "61951", "61953", "61955",
            "61956", "61957" -> "IL0410100" // City of Mattoon

            // Canton area (Fulton County)
            "61501", "61516", "61517", "61519", "61520", "61523", "61524",
            "61525", "61526", "61527", "61528", "61529", "61530", "61531",
            "61532", "61533", "61534", "61535", "61536", "61537", "61540",
            "61541", "61542", "61543", "61544", "61545", "61546", "61547",
            "61548", "61550", "61552", "61553", "61554", "61555", "61558",
            "61559", "61560", "61561", "61562", "61563", "61564", "61565",
            "61567", "61568", "61569", "61570", "61571", "61572" -> "IL0570050" // City of Canton

            // Default for unknown zip codes
            else -> "Contact IL EPA at 217-782-0610 for Water System Number"
        }
    }
}